public class EnemySpawner : MonoBehaviour
{
    public GameObject[] spawnObject;
    public GameObject Spawner;
    public GameObject EggFull;
    public GameObject EggBroken;
    public float radius = 1.0f;
    public float minSpawnTime = 1.0f;
    public float maxSpawnTime = 3.0f;
    public bool constantSpawn = false;
    public bool broken = false;
    public Transform spawnPosition;
    Vector3 randomLocation;

    private void Start()
    {
        float x = Spawner.transform.position.x;
        float y = Spawner.transform.position.y;
        float z = Spawner.transform.position.z;
        randomLocation = new Vector3(x,y,z) + Random.insideUnitSphere * 5; 
        randomLocation.y = 0.0f;
        EggFull.SetActive(true);
        EggBroken.SetActive(false);
    }

    void OnTriggerEnter(Collider Other)
    {
        if (broken == false)
        {
            Invoke("SpawnEnemy", Random.Range(minSpawnTime, maxSpawnTime));
            constantSpawn = false;
        }
       
    }

    void OnTriggerExit(Collider Other)
    {
        if (constantSpawn == false)
        {
            CancelInvoke("SpawnEnemy");
            EggFull.SetActive(false);
            EggBroken.SetActive(true);
        }
    }

    void SpawnEnemy()
    {
        float spawnRadius = radius;
        int spawnObjectIndex = Random.Range(0, spawnObject.Length);
        transform.position = Random.insideUnitSphere * spawnRadius;
        Instantiate(spawnObject[spawnObjectIndex], spawnPosition.position + randomLocation, spawnObject[spawnObjectIndex].transform.rotation);
    }
}
